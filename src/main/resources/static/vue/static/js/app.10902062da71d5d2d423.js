webpackJsonp([1],{"9Wi3":function(e,t){},DgdH:function(e,t){},LJgR:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW"),r=o("Dd8w"),i=o.n(r),s=o("r8sI"),a=o.n(s),l={name:"App",data:function(){return{activeIndex:"1"}},computed:i()({},Object(s.mapGetters)({isLogin:"isLogin",userInfo:"getUserInfo"})),methods:i()({},Object(s.mapMutations)(["logout"]),{handleSelect:function(e,t){console.log(e,t)}})},u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-container",[o("el-header",{staticStyle:{"line-height":"50px","text-align":"center","border-radius":"4px","background-color":"white",position:"fixed","z-index":"2",width:"100%",top:"0px",left:"0"}},[o("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[o("el-menu-item",{attrs:{index:"1"}},[o("router-link",{attrs:{to:"/"}},[e._v("\n           아쿠아마린 🐳\n            ")])],1),e._v(" "),o("el-menu-item",{attrs:{index:"2"}},[e._v("클래스 🏄‍♀️")]),e._v(" "),o("el-menu-item",{attrs:{index:"5"}},[o("router-link",{attrs:{to:"/board"}},[e._v("자유 게시판 👨‍👨‍👧‍👧")])],1),e._v(" "),e.isLogin?e._e():o("el-menu-item",{attrs:{index:"6"}},[o("router-link",{attrs:{to:"/login"}},[e._v("로그인😎")])],1),e._v(" "),e.isLogin?o("el-submenu",{attrs:{index:"7"}},[o("template",{slot:"title"},[e._v(e._s(e.userInfo.nickname)+" 님 환영합니다😊")]),e._v(" "),o("el-menu-item",{attrs:{index:"6"},on:{click:e.logout}},[e._v("로그아웃")]),e._v(" "),o("el-menu-item",{attrs:{index:"6-1"},on:{click:e.logout}},[e._v("정보수정")])],2):e._e()],1),e._v(" "),o("div",{staticClass:"line"})],1),e._v(" "),o("el-main",[o("router-view")],1),e._v(" "),o("el-footer",[o("div",{staticClass:"wrapCopyrightText"},[o("span",{staticClass:"copyrightText"},[e._v("\n            Copyright ©2022 AquaMarine Co., 대표자: 차정민\n          ")])])])],1)],1)},staticRenderFns:[]};var c=o("VU/8")(l,u,!1,function(e){o("wqYd")},null,null).exports,m=o("/ocq"),d={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}},created:function(){console.log("isLogin",this.isLogin),console.log("userInfo",this.userInfo)},computed:i()({},Object(s.mapGetters)({userInfo:"getUserInfo",isLogin:"isLogin"})),methods:{}},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("br"),this._v(" "),this.isLogin?t("div",[this._v(this._s(this.userInfo.nickname)+" 환영합니다.")]):this._e(),this._v(" "),t("img",{attrs:{src:"https://pbs.twimg.com/media/E0rpfQ4UUAY1_ja.jpg"}})])},staticRenderFns:[]};var f=o("VU/8")(d,g,!1,function(e){o("DgdH")},"data-v-4cc429d3",null).exports,p=o("Xxa5"),b=o.n(p),v=o("exGp"),h=o.n(v),_=o("mtWM"),L=o.n(_),F={name:"Board",data:function(){return{projectVersion:"게시판 목록v.12",bbsList:{}}},computed:i()({},Object(s.mapGetters)({isLogin:"isLogin"})),created:function(){var e=this;return h()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("success!"),t.next=3,e.init();case 3:case"end":return t.stop()}},t,e)}))()},methods:{init:function(){var e=this;return h()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.post("/api/native-query/board",{page:0,size:10}).then(function(t){console.log("res",t),e.bbsList=t.data.data.content}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t,e)}))()},gotoWrite:function(){!1===this.isLogin?(alert("로그인 후 이용해주세요."),this.$router.push("/login")):this.$router.push("/board/write")}}},k={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("br"),e._v(" "),o("div",{staticStyle:{"margin-right":"1000px"}},[o("el-button",{on:{click:e.gotoWrite}},[e._v("글 작성")])],1),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("el-table",{staticStyle:{width:"auto"},attrs:{data:e.bbsList,border:""}},[o("el-table-column",{attrs:{property:"bname",label:"이름"}}),e._v(" "),o("el-table-column",{attrs:{property:"bcontent",label:"제목"}}),e._v(" "),o("el-table-column",{attrs:{property:"bcontent",label:"내용"}}),e._v(" "),o("el-table-column",{attrs:{property:"bdate",label:"작성시간"}})],1)],1)},staticRenderFns:[]};var x=o("VU/8")(F,k,!1,function(e){o("9Wi3")},"data-v-5c6a4246",null).exports,w={name:"BoardWrite",data:function(){return{ruleForm:{btitle:"",bname:"",bcontent:""},rules:{btitle:[{required:!0,message:"Please input Activity name",trigger:"blur"}],bname:[{required:!0,message:"Please input Activity name",trigger:"blur"}],bcontent:[{required:!0,message:"Please input activity name",trigger:"blur"}]}}},computed:i()({},Object(s.mapGetters)({userInfo:"getUserInfo",accessToken:"getToken"})),created:function(){this.ruleForm.bname=this.userInfo.nickname},methods:{submitForm:function(e){var t=this;console.log(this.accessToken),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;L.a.post("/api/board/write",{btitle:t.ruleForm.btitle,bname:t.ruleForm.bname,bcontent:t.ruleForm.bcontent},{headers:{Authorization:"Bearer "+t.accessToken}}).then(function(e){alert("작성 되었어요 :)"),console.log(e),t.$router.push("/board")}).catch(function(e){console.log("error"+e)})})},resetForm:function(e){this.$refs[e].resetFields()},gotoList:function(){this.$router.push("/board")}}},I={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("br"),e._v(" "),o("br"),e._v(" "),o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"이름",prop:"bname"}},[o("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.bname,callback:function(t){e.$set(e.ruleForm,"bname",t)},expression:"ruleForm.bname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"제목",prop:"btitle"}},[o("el-input",{model:{value:e.ruleForm.btitle,callback:function(t){e.$set(e.ruleForm,"btitle",t)},expression:"ruleForm.btitle"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"내용",prop:"bcontent"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.bcontent,callback:function(t){e.$set(e.ruleForm,"bcontent",t)},expression:"ruleForm.bcontent"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("작성")]),e._v(" "),o("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("초기화")]),e._v(" "),o("el-button",{on:{click:e.gotoList}},[e._v("목록으로")])],1)],1)],1)},staticRenderFns:[]};var y=o("VU/8")(w,I,!1,function(e){o("ktXU")},"data-v-556fd5ee",null).exports,$={name:"Login",data:function(){return{ruleForm:{username:"",password:""}}},computed:i()({},Object(s.mapGetters)({isLogin:"isLogin"})),created:function(){console.log("로그인 페이지..."),console.log(this.isLogin),this.init()},methods:{init:function(){},login:function(){var e=this;L.a.post("/api/authenticate",this.ruleForm).then(function(t){var o=t.data.token;localStorage.setItem("token",o),e.$store.dispatch("getMemberInfo")}).then(function(){C.push("/")}).catch(function(e){alert("이메일과 비밀번호를 확인하세요."),console.log(e)})}}},U={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("br"),e._v(" "),o("br"),e._v(" "),o("div",[o("h2",[e._v("로그인 / 회원가입 "+e._s(e.isLogin)+" ")])]),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"이메일",prop:"username"}},[o("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"비밀번호",prop:"password"}},[o("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login(e.ruleForm)}}},[e._v("로그인")]),e._v(" "),o("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("회원가입")])],1)],1)],1)},staticRenderFns:[]};var j=o("VU/8")($,U,!1,function(e){o("LJgR")},"data-v-3963a982",null).exports,E=o("424j");n.default.use(a.a);var S=new a.a.Store({plugins:[Object(E.a)()],state:{userInfo:null,accessToken:"",isLogin:!1,isLoginError:!1},mutations:{loginSuccess:function(e,t,o){e.isLogin=!0,e.isLoginError=!1,e.accessToken=o,e.userInfo=t,console.log("loginSuccess mutation"),console.log(e.isLogin)},loginError:function(e){e.isLogin=!1,e.isLoginError=!0},logout:function(e){console.log("logout"),localStorage.removeItem("token"),e.isLogin=!1,e.isLoginError=!1,e.userInfo=!1}},actions:{getMemberInfo:function(e){var t=e.commit,o=localStorage.getItem("token"),n={token:o};L.a.post("/api/authenticate/getUserInfo",n).then(function(e){var n={username:e.data.username,nickname:e.data.nickname,authorityName:e.data.authorityName};console.log("login 성공했을 때..."),console.log(n),t("loginSuccess",n,o)}).catch(function(e){console.log(e),t("logout")})}},getters:{getToken:function(e){return e.accessToken},isLogin:function(e){return console.log("getters state",e.isLogin),e.isLogin},getUserInfo:function(e){return e.userInfo}}});n.default.use(m.a);var C=new m.a({mode:"history",routes:[{path:"/",name:"HelloWorld",component:f},{path:"/board",name:"Board",component:x},{path:"/board/write",name:"BoardWrite",component:y,beforeEnter:function(e,t,o){var n=S.getters.isLogin;if(!1===n)return console.log("Login Please!"),console.log("isLogin",n),o("/login");console.log("isLogin",n),console.log("routing success : '"+e.path+"'"),o()}},{path:"/login",name:"Login",component:j,beforeEnter:function(e,t,o){console.log("안녕하세요...");var n=S.getters.isLogin;if(!0===n)return console.log("you are aleady login!"),console.log("isLogin",n),o("/");console.log("isLogin",n),console.log("routing success : '"+e.path+"'"),o()}}]}),T=o("zL8q"),W=o.n(T);o("tvR6");n.default.use(W.a,{size:"small",zIndex:3e3}),n.default.config.productionTip=!1,new n.default({store:S,router:C,beforeCreate:function(){this.$store.dispatch("getMemberInfo")},render:function(e){return e(c)}}).$mount("#app")},ktXU:function(e,t){},tvR6:function(e,t){},wqYd:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.10902062da71d5d2d423.js.map
webpackJsonp([1],{"9Wi3":function(e,t){},GKqj:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),r=n("Dd8w"),i=n.n(r),s=n("r8sI"),a=n.n(s),l={name:"App",data:function(){return{activeIndex:"1"}},computed:i()({},Object(s.mapGetters)({isLogin:"isLogin",userInfo:"getUserInfo"})),methods:i()({},Object(s.mapMutations)(["logout"]),{handleSelect:function(e,t){console.log(e,t)}})},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-container",[n("el-header",{staticStyle:{"line-height":"50px","text-align":"center","border-radius":"4px","background-color":"white",position:"fixed","z-index":"2",width:"100%",top:"0px",left:"0"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"1"}},[n("router-link",{attrs:{to:"/"}},[e._v("\n           아쿠아마린 🐳\n            ")])],1),e._v(" "),n("el-menu-item",{attrs:{index:"2"}},[e._v("클래스 🏄‍♀️")]),e._v(" "),n("el-menu-item",{attrs:{index:"5"}},[n("router-link",{attrs:{to:"/board"}},[e._v("자유 게시판 👨‍👨‍👧‍👧")])],1),e._v(" "),e.isLogin?e._e():n("el-menu-item",{attrs:{index:"6"}},[n("router-link",{attrs:{to:"/login"}},[e._v("로그인😎")])],1),e._v(" "),e.isLogin?n("el-submenu",{attrs:{index:"7"}},[n("template",{slot:"title"},[e._v(e._s(e.userInfo.nickname)+" 님 환영합니다😊")]),e._v(" "),n("el-menu-item",{attrs:{index:"6"},on:{click:e.logout}},[e._v("로그아웃")]),e._v(" "),n("el-menu-item",{attrs:{index:"6-1"},on:{click:e.logout}},[e._v("정보수정")])],2):e._e()],1),e._v(" "),n("div",{staticClass:"line"})],1),e._v(" "),n("el-main",[n("router-view")],1),e._v(" "),n("el-footer",[n("div",{staticClass:"wrapCopyrightText"},[n("span",{staticClass:"copyrightText"},[e._v("\n            Copyright ©2022 AquaMarine Co., 대표자: 차정민\n          ")])])])],1)],1)},staticRenderFns:[]};var c=n("VU/8")(l,u,!1,function(e){n("wqYd")},null,null).exports,m=n("/ocq"),d={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}},created:function(){console.log("isLogin",this.isLogin),console.log("userInfo",this.userInfo)},computed:i()({},Object(s.mapGetters)({userInfo:"getUserInfo",isLogin:"isLogin"})),methods:{}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("br"),this._v(" "),this.isLogin?t("div",[this._v(this._s(this.userInfo.nickname)+" 환영합니다.")]):this._e(),this._v("\n  사이트 버전 1.3\n  "),t("img",{attrs:{src:"https://pbs.twimg.com/media/E0rpfQ4UUAY1_ja.jpg"}})])},staticRenderFns:[]};var p=n("VU/8")(d,f,!1,function(e){n("ThS1")},"data-v-5922701a",null).exports,g=n("Xxa5"),v=n.n(g),b=n("exGp"),h=n.n(b),_=n("mtWM"),F=n.n(_),k={name:"Board",data:function(){return{projectVersion:"게시판 목록v.12",bbsList:{}}},computed:i()({},Object(s.mapGetters)({isLogin:"isLogin"})),created:function(){var e=this;return h()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("success!"),t.next=3,e.init();case 3:case"end":return t.stop()}},t,e)}))()},methods:{init:function(){var e=this;return h()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.post("/api/native-query/board",{page:0,size:10}).then(function(t){console.log("res",t),e.bbsList=t.data.data.content}).catch(function(e){console.log(e)});case 2:case"end":return t.stop()}},t,e)}))()},gotoWrite:function(){!1===this.isLogin?(alert("로그인 후 이용해주세요."),this.$router.push("/login")):this.$router.push("/board/write")}}},L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("br"),e._v(" "),n("div",{staticStyle:{"margin-right":"1000px"}},[n("el-button",{on:{click:e.gotoWrite}},[e._v("글 작성")])],1),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("el-table",{staticStyle:{width:"auto"},attrs:{data:e.bbsList,border:""}},[n("el-table-column",{attrs:{property:"bname",label:"이름"}}),e._v(" "),n("el-table-column",{attrs:{property:"bcontent",label:"제목"}}),e._v(" "),n("el-table-column",{attrs:{property:"bcontent",label:"내용"}}),e._v(" "),n("el-table-column",{attrs:{property:"bdate",label:"작성시간"}})],1)],1)},staticRenderFns:[]};var x=n("VU/8")(k,L,!1,function(e){n("9Wi3")},"data-v-5c6a4246",null).exports,w={name:"BoardWrite",data:function(){return{ruleForm:{btitle:"",bname:"",bcontent:""},rules:{btitle:[{required:!0,message:"Please input Activity name",trigger:"blur"}],bname:[{required:!0,message:"Please input Activity name",trigger:"blur"}],bcontent:[{required:!0,message:"Please input activity name",trigger:"blur"}]}}},computed:i()({},Object(s.mapGetters)({userInfo:"getUserInfo",accessToken:"getToken"})),created:function(){this.ruleForm.bname=this.userInfo.nickname},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;F.a.post("/api/board/write",{btitle:t.ruleForm.btitle,bname:t.ruleForm.bname,bcontent:t.ruleForm.bcontent},{headers:{Authorization:"Bearer "+t.accessToken}}).then(function(e){alert("작성 되었어요 :)"),console.log(e),t.$router.push("/board")}).catch(function(e){console.log("error"+e)})})},resetForm:function(e){this.$refs[e].resetFields()},gotoList:function(){this.$router.push("/board")}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("br"),e._v(" "),n("br"),e._v(" "),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"이름",prop:"bname"}},[n("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.bname,callback:function(t){e.$set(e.ruleForm,"bname",t)},expression:"ruleForm.bname"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"제목",prop:"btitle"}},[n("el-input",{model:{value:e.ruleForm.btitle,callback:function(t){e.$set(e.ruleForm,"btitle",t)},expression:"ruleForm.btitle"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"내용",prop:"bcontent"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.bcontent,callback:function(t){e.$set(e.ruleForm,"bcontent",t)},expression:"ruleForm.bcontent"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("작성")]),e._v(" "),n("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("초기화")]),e._v(" "),n("el-button",{on:{click:e.gotoList}},[e._v("목록으로")])],1)],1)],1)},staticRenderFns:[]};var I=n("VU/8")(w,y,!1,function(e){n("YwMf")},"data-v-2ce257cf",null).exports,$={name:"Login",data:function(){return{ruleForm:{username:"",password:""}}},computed:i()({},Object(s.mapGetters)({isLogin:"isLogin"})),created:function(){console.log("로그인 페이지..."),console.log(this.isLogin),this.init()},methods:{init:function(){},login:function(){var e=this;F.a.post("/api/authenticate",this.ruleForm).then(function(t){var n=t.data.token;localStorage.setItem("token",n),e.$store.dispatch("getMemberInfo")}).then(function(){U.push("/")}).catch(function(e){alert("이메일과 비밀번호를 확인하세요."),console.log(e)})}}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("br"),e._v(" "),n("br"),e._v(" "),e._m(0),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"이메일",prop:"username"}},[n("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"비밀번호",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login(e.ruleForm)}}},[e._v("로그인")]),e._v(" "),n("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("회원가입")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",[this._v("로그인 / 회원가입 ")])])}]};var T=n("VU/8")($,j,!1,function(e){n("GKqj")},"data-v-57ce93f6",null).exports,E=n("424j");o.default.use(a.a);var S=new a.a.Store({plugins:[Object(E.a)()],state:{userInfo:null,accessToken:null,isLogin:!1,isLoginError:!1},mutations:{loginSuccess:function(e,t){var n={username:t.username,nickname:t.nickname,authorityName:t.authorityName};e.isLogin=!0,e.isLoginError=!1,e.accessToken=t.accessToken,e.userInfo=n},loginError:function(e){e.isLogin=!1,e.isLoginError=!0},logout:function(e){console.log("logout"),localStorage.removeItem("token"),e.isLogin=!1,e.isLoginError=!1,e.userInfo=null,e.accessToken=null}},actions:{getMemberInfo:function(e){var t=e.commit,n=localStorage.getItem("token"),o={token:n};F.a.post("/api/authenticate/getUserInfo",o).then(function(e){var o={username:e.data.username,nickname:e.data.nickname,authorityName:e.data.authorityName,accessToken:n};t("loginSuccess",o)}).catch(function(e){console.log(e),t("logout")})}},getters:{getToken:function(e){return e.accessToken},isLogin:function(e){return e.isLogin},getUserInfo:function(e){return e.userInfo}}});o.default.use(m.a);var U=new m.a({mode:"history",routes:[{path:"/",name:"HelloWorld",component:p},{path:"/board",name:"Board",component:x},{path:"/board/write",name:"BoardWrite",component:I,beforeEnter:function(e,t,n){var o=S.getters.isLogin;if(!1===o)return console.log("Login Please!"),console.log("isLogin",o),n("/login");console.log("isLogin",o),console.log("routing success : '"+e.path+"'"),n()}},{path:"/login",name:"Login",component:T,beforeEnter:function(e,t,n){console.log("안녕하세요...");var o=S.getters.isLogin;if(!0===o)return console.log("you are aleady login!"),console.log("isLogin",o),n("/");console.log("isLogin",o),console.log("routing success : '"+e.path+"'"),n()}}]}),q=n("zL8q"),C=n.n(q);n("tvR6");o.default.use(C.a,{size:"small",zIndex:3e3}),o.default.config.productionTip=!1,new o.default({store:S,router:U,beforeCreate:function(){this.$store.dispatch("getMemberInfo")},render:function(e){return e(c)}}).$mount("#app")},ThS1:function(e,t){},YwMf:function(e,t){},tvR6:function(e,t){},wqYd:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.24dfbd045810b387bea4.js.map